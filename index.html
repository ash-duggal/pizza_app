<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />


    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />

    <link rel="stylesheet" href="css/style.css" />
    <title>Pizza app</title>

    <script>
      if (performance.navigation.type == 2) {
        location.reload(true);
      }
    </script>
  </head>
  <body>
    <div id="main">
      <br />
      <div class="pizza" ondrop="drop(event)" ondragover="allowDrop(event)">
        <img
          id="base"
          class="base"
          src="img/base.png"
          class="img-fluid"
          alt="Pizza Base"
        />
        <img
          id="base2"
          class="base"
          src="img/base2.png"
          class="img-fluid"
          alt="Pizza Base"
        />
        <div id="pepperoni">
          <img
            class="pepperoni-1"
            src="img/peperoni-clipart.png"
            class="img-fluid"
            alt="Pizza Base"
          />
          <img
            class="pepperoni-2"
            src="img/peperoni-clipart.png"
            class="img-fluid"
            alt="Pizza Base"
          />
          <img
            class="pepperoni-3"
            src="img/peperoni-clipart.png"
            class="img-fluid"
            alt="Pizza Base"
          />
          <img
            class="pepperoni-4"
            src="img/peperoni-clipart.png"
            class="img-fluid"
            alt="Pizza Base"
          />
          <img
            class="pepperoni-5"
            src="img/peperoni-clipart.png"
            class="img-fluid"
            alt="Pizza Base"
          />
          <img
            class="pepperoni-6"
            src="img/peperoni-clipart.png"
            class="img-fluid"
            alt="Pizza Base"
          />
        </div>
        <div id="olives">
          <img
            class="olive-1"
            src="img/olives.png"
            class="img-fluid"
            alt="Pizza Base"
          />
          <img
            class="olive-2"
            src="img/olives.png"
            class="img-fluid"
            alt="Pizza Base"
          />
          <img
            class="olive-3"
            src="img/olives.png"
            class="img-fluid"
            alt="Pizza Base"
          />
          <img
            class="olive-4"
            src="img/olives.png"
            class="img-fluid"
            alt="Pizza Base"
          />
          <img
            class="olive-5"
            src="img/olives.png"
            class="img-fluid"
            alt="Pizza Base"
          />
          <img
            class="olive-6"
            src="img/olives.png"
            class="img-fluid"
            alt="Pizza Base"
          />
          <img
            class="olive-7"
            src="img/olives.png"
            class="img-fluid"
            alt="Pizza Base"
          />
          <img
            class="olive-8"
            src="img/olives.png"
            class="img-fluid"
            alt="Pizza Base"
          />
          <img
            class="olive-9"
            src="img/olives.png"
            class="img-fluid"
            alt="Pizza Base"
          />
        </div>
        <div id="mushroom">
          <img
            class="mushroom-1"
            src="img/mushroom.jpg"
            class="img-fluid"
            alt="Pizza Base"
          />
          <img
            class="mushroom-2"
            src="img/mushroom.jpg"
            class="img-fluid"
            alt="Pizza Base"
          />
          <img
            class="mushroom-3"
            src="img/mushroom.jpg"
            class="img-fluid"
            alt="Pizza Base"
          />
          <img
            class="mushroom-4"
            src="img/mushroom.jpg"
            class="img-fluid"
            alt="Pizza Base"
          />
        </div>
      </div>

      <div class="panel-modal">
        <div class="form-div">
          <form class="form">
            <div class="base-group">
              <img
                id="base-icon"
                class="base-group--bases"
                src="img/base.png"
                class="img-fluid"
                alt="Pizza Base"
                ondragstart="drag(event)"
                title="Simple Base"
              />
              <img
                id="base2-icon"
                class="base-group--bases"
                src="img/base2.png"
                class="img-fluid"
                alt="Pizza Base"
                ondragstart="drag(event)"
                title="Base with Sauce"
              />
            </div>
            <div class="toppings-group">
              <img
                id="pepperoni-topping"
                class="pepperoni-topping toppings-group--toppings"
                style="width: 100px"
                src="img/peperoni-clipart.png"
                class="img-fluid"
                alt="Pizza Base"
                ondragstart="drag(event)"
                title="Pepperoni"
              />
              <img
                id="olives-topping"
                class="olives-topping toppings-group--toppings"
                style="width: 100px"
                src="img/olives.png"
                class="img-fluid"
                alt="Pizza Base"
                ondragstart="drag(event)"
                title="Olive"
              />
              <img
                id="mushroom-topping"
                class="mushroom-topping toppings-group--toppings"
                style="width: 100px"
                src="img/mushroom.jpg"
                class="img-fluid"
                alt="Pizza Base"
                ondragstart="drag(event)"
                title="Mushroom"
              />
            </div>
          </form>
        </div>
      </div>
    </div>
    <script>
      var sauce_arr;
      var pep_arr;
      var olive_arr;
      var mush_arr;
      function resetBaseOrIcon(icon) {
        document.getElementById(`base${icon ? "-icon" : ""}`).style.display =
          "none";
        document.getElementById(`base2${icon ? "-icon" : ""}`).style.display =
          "none";
      }
      function resetTopping(topping, isIcon) {
        document.getElementById(
          `${topping}${isIcon ? "-topping" : ""}`
        ).style.display = "none";
      }
      function displayTopping(topping, isIcon) {
        document.getElementById(
          `${topping}${isIcon ? "-topping" : ""}`
        ).style.display = "block";
      }
      resetBaseOrIcon(false);
      resetTopping("pepperoni", false);
      resetTopping("olives", false);
      resetTopping("mushroom", false);
      resetTopping("pepperoni", true);
      resetTopping("olives", true);
      resetTopping("mushroom", true);

      function allowDrop(ev) {
        ev.preventDefault();
      }

      function drag(ev) {
        console.log(ev.target.value);
        ev.dataTransfer.setData("text", ev.target.id);
      }

      function drop(ev) {
        ev.preventDefault();
        let data = ev.dataTransfer.getData("text");
        data = data.split("-")[0];
        if (data.includes("base")) {
          document.getElementById(data).style.display = "block";
          resetBaseOrIcon(true);
          displayTopping("pepperoni", true);
          displayTopping("olives", true);
          displayTopping("mushroom", true);
        }
        else{
            displayTopping(data, false);
        }
      }
    </script>
  </body>
</html>
